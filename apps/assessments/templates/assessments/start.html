{% extends "base_public.html" %}
{% block title %}Assessment{% endblock %}

{% block content %}
<h2>Hello, {{ member.name }}!</h2>
<p>Please complete the assessment below:</p>

<form method="post">
  {% csrf_token %}

  {% for question in questions %}
  <fieldset class="question-block" style="margin-bottom:1rem;">
    <legend><strong>{{ forloop.counter }}. {{ question.text }}</strong></legend>

    <div class="choices" style="display:flex; gap:1rem; align-items:center;">

        {# Consistently True (includes required here for whole group) #}
        <input
            type="radio"
            id="q{{ question.id }}-3"
            name="question_{{ question.id }}"
            value="3"
            class="visually-hidden"
            required
        />
        <label for="q{{ question.id }}-3" class="custom-control radio">3</label>

        {# Somewhat True #}
        <input
            type="radio"
            id="q{{ question.id }}-2"
            name="question_{{ question.id }}"
            value="2"
            class="visually-hidden"
        />
        <label for="q{{ question.id }}-2" class="custom-control radio">2</label>

        {# Somewhat Untrue #}
        <input
            type="radio"
            id="q{{ question.id }}-1"
            name="question_{{ question.id }}"
            value="1"
            class="visually-hidden"
        />
        <label for="q{{ question.id }}-1" class="custom-control radio">1</label>

        {# Consistently Untrue #}
        <input
            type="radio"
            id="q{{ question.id }}-0"
            name="question_{{ question.id }}"
            value="0"
            class="visually-hidden"  {# or remove this class if you keep your opacity:0 rule #}
        />
        <label for="q{{ question.id }}-0" class="custom-control radio">0</label>
    </div>
  </fieldset>
  {% endfor %}

  <button type="submit" class="button--primary">Submit</button>
</form>
{% endblock %}