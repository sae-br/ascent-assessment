{% extends "base.html" %}
{% block title %}Account Settings | Ascent Assessment{% endblock %}
{% block content %}

<h1>Account Settings</h1>

<h2>Update Username or Email</h2>
<form method="post">
  {% csrf_token %}
  {{ update_form.as_p }}
  <button class="button" type="submit" name="update_account">Save Changes</button>
</form>

<h2>Change Password</h2>
<form method="post">
  {% csrf_token %}
  {{ password_form.as_p }}
  <button class="button" type="submit" name="change_password">Change Password</button>
</form>

<h2>Delete Account</h2>
<div id="delete-area">
  <p>Deleting your account will permanently remove your teams, assessments, participants, answers, and any generated reports. This cannot be undone.</p>
  <button
    class="button button--danger"
    hx-get="{% url 'accounts:delete_confirm_partial' %}"
    hx-target="#delete-area"
    hx-swap="innerHTML"
  >
    Delete My Account
  </button>
  <noscript>
    <a class="button button--danger" href="{% url 'accounts:account_settings' %}?confirm_delete=1">Delete My Account</a>
  </noscript>
</div>

{% endblock %}